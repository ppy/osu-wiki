# Вкладка Compose

::: Infobox
![](img/compose.jpg "Содержимое вкладки Compose в режиме osu!")
:::

::: Infobox
![](img/compose-mania.jpg "Содержимое вкладки Compose в режиме osu!mania")
:::

**Compose** — вкладка в [редакторе карт](/wiki/Client/Beatmap_editor), в которой [мапперы](/wiki/Beatmapping) проводят больше всего времени после настройки [тайминга](/wiki/Beatmapping/Timing) карты. Она предназначена для расстановки [игровых паттернов](/wiki/Beatmap/Pattern), [хитсаундов](/wiki/Beatmapping/Hitsound) и для работы над структурой карты в целом.

В режимах osu!, osu!taiko и osu!catch вкладка выглядит одинаково, в то время как в картах osu!mania на ней отображается соответствующее игровое поле. Чтобы его активировать, в [настройках карты](/wiki/Client/Beatmap_editor/Song_setup#advanced) нужно сменить режим игры на `osu!mania`.

## Компоненты

*О процессе маппинга в целом см. [Маппинг](/wiki/Beatmapping)*

### Временная шкала

![](img/objects-timeline.jpg "Временная шкала с объектами, расставленными в соответствии с таймингом песни")

Временная шкала показывает, в какой момент времени объекты будут появляться на поле. Её можно приближать и отдалять с помощью кнопок `+`/`-`, расположенных слева, либо с помощью прокрутки колёсика мыши с зажатой клавишей `Alt`. Двойная полоса в центре показывает текущий момент в карте. Объекты можно выделять и двигать во времени с помощью левой кнопки мыши, а удалять — с помощью правой.

Чтобы добавить к уже существующему слайдеру [повтор](/wiki/Gameplay/Hit_object/Slider/Repeat_slider), наведите курсор на его правый край и потяните вправо.

### Делитель временной шкалы

![](img/beat-snap-divisor.jpg "Делитель временной шкалы")

| Название | Описание |
| :-- | :-- |
| [Beat snap divisor](/wiki/Client/Beatmap_editor/Beat_snap_divisor) | Разделяет музыкальные доли на шкале на несколько равных частей, куда при маппинге ставятся игровые объекты. Движение вправо увеличивает число частей, движение влево — уменьшает. |
| `Insert Break Time` | Вставляет [перерыв](/wiki/Beatmap/Break) в текущий момент карты. |
| x/y | Показывает координаты выделенного объекта на игровом поле. Если ничего не выбрано, показывает координаты указателя мыши. |

При зажатой клавише `Alt` делитель временной шкалы заменяется на [настройку спейсинга](/wiki/Client/Beatmap_editor/Distance_snap). Множитель спейсинга можно изменять в диапазоне от 0.1x до 6.0x.

### Левая панель инструментов

![](img/tools.jpg "Левая панель инструментов")

| Кнопка (горячая клавиша) | Описание |
| :-- | :-- |
| `Sampleset` | Настройка [сэмплсета](/wiki/Beatmapping/Sampleset) для выбранных объектов (в т.ч. их звука удара). При выборе `Auto` будет использоваться сэмплсет из активной [тайминг-секции](/wiki/Client/Beatmap_editor/Timing#timing-points). |
| `Additions` | Настройка сэмплсета для выбранных объектов, которая влиет только на дополнительные звуки (свисток, хлопок и финиш). При выборе `Auto` будет использоваться сэмплсет из активной тайминг-секции. |
| `Select` (`1`) | `Левая кнопка мыши`: выделить или подвинуть игровой объект или контрольные точки на слайдере. `Правая кнопка мыши`: удалить объект или контрольную точку на слайдере. `Ctrl` + `Левая кнопка мыши`: выделить несколько объектов. `Ctrl` + `Левая кнопка мыши` при клике по выделенному слайдеру: добавить новую [контрольную точку](/wiki/Gameplay/Hit_object/Slider/Slider_anchor). |
| `Circle` (`2`) | `Левая кнопка мыши`: поставить [ноту](/wiki/Gameplay/Hit_object/Hit_circle) на текущий момент песни. |
| `Slider` (`3`) | `Левая` или `правая кнопка мыши`: начать или закончить [слайдер](/wiki/Gameplay/Hit_object/Slider) на текущем моменте песни. `Левая кнопка мыши` во время расстановки слайдера: добавить контрольную точку. |
| `Spinner` (`4`) | `Левая` или `правая кнопка мыши`: начать или закончить [спиннер](/wiki/Gameplay/Hit_object/Spinner) на текущем моменте песни. |

### Игровое поле

![](img/playfield.jpg "Визуализация текущего момента в песне")

### Правая панель инструментов

![](img/subtools.jpg "Правая панель инструментов")

| Кнопка (горячая клавиша) | Применение | Описание |
| :-- | :-- | :-- |
| `New Combo` (`Q`) | `Левая кнопка мыши` при выборе объекта, либо `правая кнопка мыши` во время расстановки объекта. | Начать новое [комбо](/wiki/Beatmapping/Combo) (примерно соответствует новому такту или куплету в песне). |

#### Хитсаунды

| Кнопка (горячая клавиша) | Описание |
| :-- | :-- |
| `Whistle` (`W`) | `Левая кнопка мыши`: применить к выделенным объектам свисток. |
| `Finish` (`E`) | `Левая кнопка мыши`: применить к выделенным объектам финиш. |
| `Clap` (`R`) | `Левая кнопка мыши`: применить к выделенным объектам хлопок. |

#### Вспомогательные инструменты

| Кнопка (горячая клавиша) | Применение | Описание |
| :-- | :-- | :-- |
| `Grid Snap` (`T`) | Включить на время: зажмите `Shift`. | Привязывать объекты к [сетке игрового поля](/wiki/Beatmapping/Grid_snapping) при их расстановке и перемещении. |
| `Distance Snap` (`Y`) | Включить на время: зажмите `Alt` (инструмент появится на месте делителя временной шкалы). `Alt` + `Колёсико мыши`: настройка множителя расстояния. | Включить режим расстановки, при котором расстояние между объектами подбирается в [зависимости от времени](/wiki/Client/Beatmap_editor/Distance_snap) между ними. Рекомендуется использовать, когда песня поставлена на паузу. |
| `Lock Notes` (`L`) | `Левая кнопка мыши`: включить/выключить. | Запретить перемещать игровые объекты в пространстве и во времени. |

### Шкала песни

![](img/song-timeline.jpg "Шкала песни")

Текущая позиция в песне показана слева в формате `<минуты>:<секунды>:<миллисекунды>`. При клике по ней появится окошко для копирования и вставки [ссылок](/wiki/Modding/Timestamp) на время или на объекты для быстрого перемещения. Справа от времени указано прошедшее время в процентах от длины всей песни. В случае, если у карты есть [сториборд](/wiki/Storyboard), при выходе за границы песни вместо процентов будет написано `intro` или `outro`.

По центру расположена шкала с различными метками и кнопками управления музыкой. При наведении курсора на шкалу появятся кнопки для работы с закладками. Кнопка `Test` справа от шкалы запускает [процесс тестирования](/wiki/Client/Beatmap_editor/Test_mode) карты, начиная с текущей позиции.

Скорость воспроизведения музыки в редакторе можно настроить справа внизу, выбрав 25%, 50%, 75% или 100%.

#### Цветные полоски

| Цвет | Описание |
| :-- | :-- |
| Белый | Текущая позиция |
| Жёлтый | Аудиопревью |
| Зелёный | [Секция без смены тайминга](/wiki/Client/Beatmap_editor/Timing#inherited-timing-point) |
| Красный | [Секция со сменой тайминга](/wiki/Client/Beatmap_editor/Timing#uninherited-timing-point) |
| Голубой | Закладка |

#### Цветные участки

| Цвет | Описание |
| :-- | :-- |
| Серый | [Перерыв](/wiki/Beatmap/Break) |
| Оранжевый | [Киаи](/wiki/Gameplay/Kiai_time) |

#### Закладки

| Сочетание клавиш | Описание |
| :-- | :-- |
| `Ctrl` + `B` | Поставить закладку на текущую позицию. |
| `Ctrl` + `Shift` + `B` | Удалить ближайшую закладку (на расстоянии 2 секунд и меньше). |
| `Ctrl` + `Стрелка вправо` | Перейти к следующей закладке. |
| `Ctrl` + `Стрелка влево` | Перейти к предыдущей закладке. |

## Компоненты (osu!mania)

*О руководстве по маппингу osu!mania см. темы на форуме: [[Tutorial] osu!mania mapping, Basics](https://osu.ppy.sh/community/forums/topics/118868), [[Tutorial] osu!mania mapping, Keysounding](https://osu.ppy.sh/community/forums/topics/139139)*

В этом разделе перечислены инструмены и особенности редактора, специфичные для режима osu!mania.

### Делитель временной шкалы

*Основная статья: [Делитель временной шкалы](/wiki/Client/Beatmap_editor/Beat_snap_divisor)*

![](img/beat-snap-divisor-mania.jpg "Делитель временной шкалы в osu!mania")

В osu!mania около делителя также указывается название и уровень громкости звука (аудиосэмпла), назначенного на выделенную ноту. Подобные звуки, называемые кейсаундами (англ. *keysounds*), можно добавлять в окне [`Sample import`](#импорт).

### Левая панель инструментов

![](img/tools-mania.jpg "Левая панель инструментов в osu!mania")

| Кнопка (горячая клавиша) | Описание |
| :-- | :-- |
| `Sampleset` | Настройка [сэмплсета](/wiki/Beatmapping/Sampleset) для выбранных объектов (в т.ч. их звука удара). При выборе `Auto` будет использоваться сэмплсет из активной [тайминг-секции](/wiki/Client/Beatmap_editor/Timing#timing-points). |
| `Additions` | Настройка сэмплсета для выбранных объектов, которая влиет только на дополнительные звуки (свисток, хлопок и финиш). При выборе `Auto` будет использоваться сэмплсет из активной тайминг-секции. |
| `Select` (`1`) | `Левая кнопка мыши`: выделить или подвинуть ноту. `Правая кнопка мыши`: удалить ноту. `Ctrl` + `Левая кнопка мыши`: выделить несколько нот. |
| `Circle` (`2`) | `Левая кнопка мыши`: поставить ноту. |
| `Hold` (`3`) | Зажатая `левая кнопка мыши`: поставить холд-ноту и настроить её длину. Чтобы закончить ноту, отпустите кнопку. |

### Игровое поле

![](img/playfield-mania.jpg "Визуализация текущего момента в песне")

#### Секции

| Расположение | Описание |
| :-- | :-- |
| Слева | График плотности нот |
| Центр | Игровое поле, поделенное в соответствии с [шагом временной шкалы](/wiki/Client/Beatmap_editor/Beat_snap_divisor) |

#### Цвета

*См. также: [Делитель временной шкалы](/wiki/Client/Beatmap_editor/Beat_snap_divisor)*

| Цвет полоски | Описание |
| :-- | :-- |
| Белая (толстая) | Начало музыкального такта |
| Белая | Музыкальная [доля](/wiki/Music_theory/Beat) |
| Зелёная | Текущая позиция / линия [джаджмента](/wiki/Gameplay/Judgement) |

| Цвет ноты | Описание |
| :-- | :-- |
| Синяя | Выделенные ноты |
| Белая/розовая/жёлтая | Все остальные ноты |

### Аудиосэмплы

Процесс назначения сэмплов (звуков) на отдельные ноты называется **сэмплингом**. Чтобы назначить сэмпл на ноту, удерживайте `Alt` и нажмите на ноту, чтобы открыть окно для выбора сэмплов.

#### Импорт

![](img/sample-import.jpg "Окно импорта аудиосэмплов")

В левой части окна импорта перечислены все аудиосэмплы из папки с картой. В правой части окна расположены кнопки, с помощью которых можно назначить сэмплы на выделенные объекты.

##### Общие настройки

| Название | Описание |
| :-- | :-- |
| `CustomSet` | При расстановке будут использованы указанная громкость и набор хитсаундов (англ. *sampleset*) с соответствующим номером вместо настроек из активной тайминг-секции. Эта настройка игнорирует сэмпл, выбранный в левой части окна. *Примечание: чтобы это работало, нужно поставить флажок `Use basic sample`.* |
| `Volume` | Насколько громким должен быть сэмпл. Допустимы только целые значения от 8 до 100. |
| `Use basic sample` | Менять у выбранных нот только громкость и сэмплсет. |

##### Кнопки действий

| Название | Описание |
| :-- | :-- |
| `Play` | Воспроизвести сэмпл. |
| `Import` | Добавить в папку с картой сэмплы ещё откуда-нибудь. |
| `Delete` | Удалить аудиофайл с сэмплом. |
| `Apply` | Назначить сэмпл на выделенную ноту. |
| `Sample` | Добавить сэмпл как [событие в сториборде](/wiki/Storyboard/Scripting/Audio) в текущий момент времени. |
| `Sample list` | Показать список [сэмплов в сториборде](#сэмплы-в-сториборде). |
| `Reset` | Убрать сэмпл с выделенных нот. |
| `Cancel` | Закрыть окно. |

#### Сэмплы в сториборде

*См. также: [Сэмплы в сториборде](/wiki/Storyboard/Scripting/Audio)*

![](img/sample-event-list.jpg "Окно со списком сэмплов в сториборде")

В окне `Sample events list` перечислены события в сториборде, в ходе которых проигрываются сэмплы. События хранятся в файле `.osu` конкретной сложности, либо, если они действуют на всю карту, в файле `.osb`.
