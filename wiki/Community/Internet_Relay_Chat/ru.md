# Internet Relay Chat

*Подробнее об IRC: [Internet Relay Chat (Википедия)](https://ru.wikipedia.org/wiki/Internet_Relay_Chat)*

**Internet Relay Chat** (**IRC**, также **ирк**) — протокол прикладного уровня для обмена сообщениями в режиме реального времени.

## osu!Bancho

*Примечание для пользователей osu!Bancho: протокол IRC здесь реализован частично и с отступлениями от стандарта, поэтому далеко не все возможности вашего клиента (например, [HexChat](https://hexchat.github.io/)) будут работать.*

*osu!Bancho* (часто сокращается до *Bancho*, или *Банчо*) — IRC-сервер, позволяющий общаться во внутриигровом чате. Чтобы подключиться к нему, используйте любой современный IRC-клиент (ниже есть список).

## Подключение

Клиент нужно настроить, добавив туда адрес сервера (как именно это сделать, описано в документации к клиенту):

- Сервер: `irc.ppy.sh`
- Порт: `6667` (по умолчанию)
- SSL: выключено
- Имя пользователя: ваш ник в osu!. Пробелы нужно заменить на подчёркивания (например `beppy_master_1000` вместо `beppy master 1000`)
- Пароль нужно взять из [настроек профиля](https://osu.ppy.sh/home/account/edit#legacy-api)

*Внимание: во-первых, пароль для IRC и пароль от аккаунта — это разные вещи. Во-вторых, **никому не давайте пароль от IRC — он позволяет общаться от вашего имени**.*

## Основные команды IRC

| Команда | Описание |
| :-- | :-- |
| `/join <#channel>` | Зайти в канал |
| `/part <#channel>` | Покинуть канал |
| `/me <action>` | Написать в чат от третьего лица |
| `/ignore <username>` | Игнорировать сообщения от пользователя |
| `/away <message>` | Включить автоответчик (отправлять сообщение всем, кто захочет вам написать) |
| `/away` | Выключить автоответчик |
| `/query <username>` | Открыть чат с `username` (пробелы в нике нужно заменить на подчёркивания) |

## Отключение событий JOIN/PART/QUIT

По умолчанию, большинство IRC-клиентов сообщают, когда кто-то заходит на канал или покидает его. В масштабах osu!Bancho такие события становятся шумом и очень быстро засоряют чат. Ниже для удобства описано, как их отключить в некоторых популярных клиентах:

| IRC-клиент | Настройка |
| :-- | :-- |
| [HexChat](https://hexchat.github.io/) | Зайдите в `Settings` -> `Preferences` -> `Chatting` -> `General` и отметьте галочку `Hide join and part messages` |
| [ircII](http://www.eterna.com.au/ircii/) | Напишите `IGNORE * CRAP` |
| [Irssi](https://irssi.org) | Напишите `/ignore * JOINS PARTS QUITS` |
| [Weechat](https://weechat.org/) | Напишите `/filter add joinquit * irc_join,irc_part,irc_quit *` |
| [Konversation](https://konversation.kde.org/) | Зайдите в `Settings` -> `Configure Konversation...` (`Ctrl` + `Shift` + `,`) -> `Behavior` -> `Chat Window` и отметьте галочку `Hide Join/Part/Nick Events` |
| [KVIrc](https://www.kvirc.net/) | См. [справку по KVIrc](https://github.com/kvirc/KVIrc/wiki/FAQ#how-do-i-suppress-join-part-and-quit-messages) |
| [mIRC](https://www.mirc.com/) | В настройках (`Tools` -> `Options`, либо `Alt` + `O`) выберите пункт `IRC`, нажмите кнопку `Events...` и выберите `Hide` для типов Joins и Parts |
| [Quassel IRC](https://quassel-irc.org/) | Кликните правой клавишей мыши по чату, откройте пункт `Hide Events` и выберите `Joins/Parts/Quits` |
| [XChat](http://xchat.org/) | Напишите `/set irc_conf_mode 1` |

## FAQ

### Я не могу залогиниться

На osu!Bancho используется самая простая аутентификация — по паролю после входа на сервер, поэтому проверьте, что вы случайно не выбрали другой способ.

Если это не помогло, или если сервер лежит, попробуйте указать `cho.ppy.sh` в качестве адреса (вы по-прежнему подключитесь к osu!Bancho).

### У меня появляется ошибка «Bad Authentication Token»

1. Убедитесь, что вы вводите пароль, взятый из [настроек профиля](https://osu.ppy.sh/home/account/edit#legacy-api), и что в него не попал лишний символ.
2. Убедитесь, что вы заменили все пробелы в своём нике на подчёркивания (`This_Username` вместо `This Username`).

### Я могу взять себе другой ник?

Нет.

### Как быстро напечатать ник другого человека?

Наберите начало ника, потом нажимайте `Tab`, чтобы выбрать нужный ник.

### Почему некоторые ники начинаются со спецсимволов?

В стандарте IRC приводится такая концепция, как режим канала (если кратко — какие действия разрешены различным пользователям). osu!Bancho использует два режима для обозначения статусов:

- Префикс `+` (статус «voice») даётся пользователю, подключившемуся через внешний IRC-клиент;
- Префикс `@` (статус «chat operator») даётся модератору чата ([GMT](/wiki/People/Global_Moderation_Team) или [NAT](/wiki/People/Nomination_Assessment_Team)).

Если обычный пользователь пользуется клиентом osu! или веб-чатом, у его ника нет префикса.

### Человек пишет в чат, но я не вижу его ник в списке пользователей на канале

Он отправляет сообщения через [веб-чат](https://osu.ppy.sh/community/chat) или [osu!(lazer)](/wiki/Client/Release_stream/Lazer).
